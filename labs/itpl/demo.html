<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>itpl--测试</title>
    <script src="itpl.js"></script> 
    <script id='tpl' type="text/html">
        <div><%=name%></div>
        <div><%=age%></div>
        <%for(var i=0,len=3;i<len;i++){%>
            <div><%=i%></div>
        <%}%>
    </script>
    <script>
    var str1 = '<div><%=name%></div>\
                <div><%=age%></div>\
                <%for(var i=0,len=3;i<len;i++){%>\
                    <div><%=i%></div>\
                <%}%>';
    var str2 = '<div><%=name%></div>\
                <div><%=age%></div>';
            
    var data = {
        name : 'matthewsun',
        age : 22
    }
    // 根据script id，直接输出
    var result1 = itpl('tpl',data);
    // 直接编译str输出
    var result2 = itpl(str1,data);

    //先编译，再输出
    var html3 = itpl('tpl-3',str1);
    var result3 = itpl('tpl-3',data);

    //简单模板引擎
    var result4 = itpl.render(str2,data);

    window.onload = function() {
        toHtml(result1,'test1');
        toHtml(result2,'test2');
        toHtml(result3,'test3');
        toHtml(result4,'test4');
    }

    function toHtml(str,id) {
        var el = document.getElementById(id);
        el.innerHTML = str;
    }
    </script>
</head>
<body>
    <div id="test1"></div>
    <div id="test2"></div>
    <div id="test3"></div>
    <div id="test4"></div>
</body>
</html>